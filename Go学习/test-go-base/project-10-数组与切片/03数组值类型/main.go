package main

import (
	"fmt"
)

func main() {

	// 值类型（数组）
	a1 := [3]int{1, 2, 3} // 定义一个数组
	a2 := a1              // a2 是 a1 的完整副本，不是引用！

	a2[0] = 99               // 修改 a2 不会影响 a1
	fmt.Println("a1 = ", a1) // 输出: [1 2 3]（原数组未变）
	fmt.Println("a2 = ", a2) // 输出: [99 2 3]

	// 要修改数组，可以使用指针
	test(&a1)

	fmt.Println("a1 = ", a1) // 输出: [1 100 3]
}

func test(a *[3]int) {
	(*a)[1] = 100 // 先解引用 *a，再访问 [1]
	// Go 的语法：自动解引用
	// Go 允许直接对指针类型的数组使用 [] 索引，编译器会自动处理解引用
	a[1] = 101 // Go 自动转换为 (*a)[1] = 100
}
